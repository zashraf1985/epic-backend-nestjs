@BASE_URL=https://vendorservices.epic.com/interconnect-amcurprd-oauth
@ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJjbGllbnRfaWQiOiI0Nzk2MDdlNC03NmRmLTQyZWMtYjU4OS0yOTk2ZmZkMGY1NGYiLCJlcGljLmVjaSI6InVybjplcGljOkN1cnJlbnQtQXBwLU9yY2hhcmQtUHJvZHVjdGlvbiIsImVwaWMubWV0YWRhdGEiOiJFb1lNUXBOVXZNaEJpcFh1QnNkcnN6NmtmWUF6b3l5enNTZmlwSWRvdXhHcnZ1Z0FYRnlCR2hZM2tudGp5Snk5Q1pqZWdlSmh5dHgycmxwSkNaVVprRVJ2cU1uckhraVpMUzV3aGZzRW5DbHRHbk9LN0V5VjhuX0kxMmlHa2VsaiIsImVwaWMudG9rZW50eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NzkzOTE0LCJpYXQiOjE3Mzg3OTAzMTQsImlzcyI6InVybjplcGljOmFwcG9yY2hhcmQuY3VycHJvZCIsImp0aSI6Ijc2NWNlZjRlLTg1NDAtNDNlOC04MTE4LTZkMGNjNzkzNGRkOSIsIm5iZiI6MTczODc5MDMxNCwic3ViIjoiZWJHZWV1UHhhMno0MDM5QzVmVFV1OEEzIn0.QFZ87rnkjrf2yxYJovJznGtTDsDfOOZ1zLcLrJ5EkadNik0iLTbokioEIBq21oDtUFy-UKus0XGjt_QEruXjU_gUbm5CLjZX1OTqmHPTmdpdx52WolmhXoZbVauaw37oCUXfwfD8Ist98JJsQQbjzABAFfTvOQYiqYpIpwCkbJbIkUdfF7QzWAnZ8-os71jzOUKuCpYuPTgBA72NtfEzrLqNmxnveCe4geY2F8a-DmRCpr7RJk5t2z4QSf889ug-_8XXE8L8RHr80sumr3HMNJazjnLf5dMqjt-es5DacJmT_86PW8eLxUr2NaeLCz4lG1NY7-_Nu5NDCORb3EQL2Q

GET https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/DSTU2/metadata
Accept: application/fhir+json

###
GET https://vendorservices.epic.com/interconnect-amcurprd-oauth/api/FHIR/R4/Patient?family=mychart&given=theodore&birthdate=1948-07-07
Authorization: Bearer {{ACCESS_TOKEN}}
Accept: application/fhir+json

###
get {{BASE_URL}}/api/FHIR/R4/Patient/T81lum-5p6QvDR7l6hv7lfE52bAbA2ylWBnv9CZEzNb0B
Authorization: Bearer {{ACCESS_TOKEN}}
Accept: application/fhir+json

###
get {{BASE_URL}}/api/FHIR/R4/Patient/e63wRTbPfr1p8UW81d8Seiw3
Authorization: Bearer {{ACCESS_TOKEN}}
Accept: application/fhir+json

###
post {{BASE_URL}}/api/FHIR/R4/Patient
Content-Type: application/json
Accept: application/fhir+json
Authorization: Bearer {{ACCESS_TOKEN}}

{"resourceType":"Patient","identifier":[{"use":"usual","system":"urn:oid:2.16.840.1.113883.4.1","value":"000-00-0000"}],"active":"true","name":[{"use":"usual","family":"FHIRcreate","given":["Zeeshan"]}],"telecom":[{"system":"phone","value":"321-555-1234","use":"home"},{"system":"email","value":"elle.FHIRcreate@fhirtest.edu"}],"gender":"female","birthDate":"1988-07-30","address":[{"use":"home","line":["100 Milky Way"],"city":"Verona","state":"WI","postalCode":"53593","country":"USA"}],"maritalStatus":{"text":"Single"},"generalPractitioner":[{"display":"Physician Family Medicine, MD","reference":"eM5CWtq15N0WJeuCet5bJlQ3"}],"extension":[{"url":"http://open.epic.com/FHIR/STU3/StructureDefinition/patient-preferred-provider-language","valueCodeableConcept":{"coding":[{"system":"urn:oid:2.16.840.1.113883.6.99","code":"ja"}],"text":"Japanese"}},{"url":"http://open.epic.com/FHIR/STU3/StructureDefinition/patient-preferred-provider-sex","valueCode":"female"}]}

###
get {{BASE_URL}}/api/FHIR/R4/Patient/e107iyk4s1YkZReCFlD2GLw3
Authorization: Bearer {{ACCESS_TOKEN}}
Accept: application/fhir+json


######################### SMART ON FHIR #########################

#https://vendorservices.epic.com/Test/SmartMain?iss=https%3A%2F%2Fvendorservices.epic.com%2Finterconnect-amcurprd-oauth%2Fapi%2FFHIR%2FR4&launch=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJjbGllbnRfaWQiOiJkNDUwNDljMy0zNDQxLTQwZWYtYWI0ZC1iOWNkODZhMTcyMjUiLCJlcGljLmVjaSI6InVybjplcGljOkN1cnJlbnQtQXBwLU9yY2hhcmQtUHJvZHVjdGlvbiIsImVwaWMubWV0YWRhdGEiOiJtdnhYM3J0aHZBY0dYZ3NSa2I1ZjVVQmtKWlhwTEYyTGh0LTF2Nk5iU01BOUpJX2o5V1FTUXotdFZXYjFiTlZPXzgwczJha3dUalJpZHFkbVJMZW9aT0gwY3VoMzBTNjltdndqMGMyRXpUR1gtcmx5RXBaNjRYRnRTOXdrczZnSiIsImVwaWMudG9rZW50eXBlIjoibGF1bmNoIiwiZXhwIjoxNzM4ODY2MzE3LCJpYXQiOjE3Mzg4NjYwMTcsImlzcyI6InVybjplcGljOmFwcG9yY2hhcmQuY3VycHJvZCIsImp0aSI6Ijk4Zjg4ZmExLWUzZTMtNDZhZS1hMjdlLTBjYWQzODgyOTMxZCIsIm5iZiI6MTczODg2NjAxNywic3ViIjoiZXdQQTNYT0pKQWJZZEhLZHNZWkRLOGczIn0.MiZVL_c3MpAPBb92zi0HZik8R1JzytyCfwTV--qwIz2vrJ-W-q78pmBM7agBIOtL14z6mXTqc9sATykCT19H6SQy0BtMhys-YZXHXisSGFNxx_PDy1s78Z5nUpgowp85JBdeEA98z8EXrzfcQumYm26w574UUwCRy2Ip1q3SmlWrtl5Tc2b1P_vuJh84ityTpqglHcfJFuyzC9ZwAPCjra8E_k545m9wBfPwqKkDVv2LQOw2aU9sZj7-2fVrr-OBjxhxJZ6yeCYUvkSQzmAVdux9wJUku_4D7tUpzfrJr13KYaxYFwS0nZatYTcIAtlo-Pn4x2PU6VOQ6_S1C6NCjA

@LAUNCH_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJjbGllbnRfaWQiOiJkNDUwNDljMy0zNDQxLTQwZWYtYWI0ZC1iOWNkODZhMTcyMjUiLCJlcGljLmVjaSI6InVybjplcGljOkN1cnJlbnQtQXBwLU9yY2hhcmQtUHJvZHVjdGlvbiIsImVwaWMubWV0YWRhdGEiOiJtdnhYM3J0aHZBY0dYZ3NSa2I1ZjVVQmtKWlhwTEYyTGh0LTF2Nk5iU01BOUpJX2o5V1FTUXotdFZXYjFiTlZPXzgwczJha3dUalJpZHFkbVJMZW9aT0gwY3VoMzBTNjltdndqMGMyRXpUR1gtcmx5RXBaNjRYRnRTOXdrczZnSiIsImVwaWMudG9rZW50eXBlIjoibGF1bmNoIiwiZXhwIjoxNzM4ODY2MzE3LCJpYXQiOjE3Mzg4NjYwMTcsImlzcyI6InVybjplcGljOmFwcG9yY2hhcmQuY3VycHJvZCIsImp0aSI6Ijk4Zjg4ZmExLWUzZTMtNDZhZS1hMjdlLTBjYWQzODgyOTMxZCIsIm5iZiI6MTczODg2NjAxNywic3ViIjoiZXdQQTNYT0pKQWJZZEhLZHNZWkRLOGczIn0.MiZVL_c3MpAPBb92zi0HZik8R1JzytyCfwTV--qwIz2vrJ-W-q78pmBM7agBIOtL14z6mXTqc9sATykCT19H6SQy0BtMhys-YZXHXisSGFNxx_PDy1s78Z5nUpgowp85JBdeEA98z8EXrzfcQumYm26w574UUwCRy2Ip1q3SmlWrtl5Tc2b1P_vuJh84ityTpqglHcfJFuyzC9ZwAPCjra8E_k545m9wBfPwqKkDVv2LQOw2aU9sZj7-2fVrr-OBjxhxJZ6yeCYUvkSQzmAVdux9wJUku_4D7tUpzfrJr13KYaxYFwS0nZatYTcIAtlo-Pn4x2PU6VOQ6_S1C6NCjA

#https://vendorservices.epic.com/interconnect-amcurprd-oauth/api/FHIR/R4

###
get https://vendorservices.epic.com/interconnect-amcurprd-oauth/api/FHIR/R4/metadata
Accept: application/fhir+json

###
get https://vendorservices.epic.com/interconnect-amcurprd-oauth/oauth2/authorize
    ?launch=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJjbGllbnRfaWQiOiI3MTA0YTZkZS0wNjgzLTQwZGItYmIzOS1lNjE2YTMwZmNlOTQiLCJlcGljLmVjaSI6InVybjplcGljOkN1cnJlbnQtQXBwLU9yY2hhcmQtUHJvZHVjdGlvbiIsImVwaWMubWV0YWRhdGEiOiJlcHhLTDJXcGRUVzdJamQtVE1TM2tQWUdNSGlwS1FpN2ZCUlE1UGJJOWViZ2o1TFQwaVpkQ0hLQ2NaaXZKOEZreGZDcmVfMEdaTGY4TU1zZ3FUazhuRmdmV3c2LTBTSTZVTWxPQkdpZzIzc2hNVVp3cGFOMkhURlU0bEFONUY1OCIsImVwaWMudG9rZW50eXBlIjoibGF1bmNoIiwiZXhwIjoxNzM4ODc0OTc0LCJpYXQiOjE3Mzg4NzQ2NzQsImlzcyI6InVybjplcGljOmFwcG9yY2hhcmQuY3VycHJvZCIsImp0aSI6ImE2MzFjNzNmLWI4ZjEtNDhhYi05NjI5LWM4ZDlhYzI4MjNjNCIsIm5iZiI6MTczODg3NDY3NCwic3ViIjoiZXdQQTNYT0pKQWJZZEhLZHNZWkRLOGczIn0.vRkcGTK25FiEmmlmmnCoT0E70gCzGOckIQoGkkET_3-DY9-R4ksStBP6n5O2n6H6-WcqgTnIx7VsawEEtt9Os0hkR-qZz1F_LTDqdlu76R-7UUSsitzniBpCwdHLHZNz34vPvD1SmlA3ehDc-I1DsY4ld3ZOCljWel-rTSIzCkrnKt8Gi_-rxzfcghIpiuo9hLNdeSaT-3bA5nbnhWje3gfzlows_vPrXWmTWd4OvmJgjgt1AAlKJtOSVqe197D2pFifG0vQeqyqbNp9roqmAmpUOA6ulWWrDbZqsiaimDcST4BeLPFlrexo7uaXHO2zLfCFjC-5PvABgZKsmE3h8g
    &response_type=code
    &client_id=7104a6de-0683-40db-bb39-e616a30fce94
    &redirect_uri=http%3A%2F%2Flocalhost%3A3000
    &scope=launch%20
    &state=1234
    &aud=https%3A%2F%2Fvendorservices.epic.com%2Finterconnect-amcurprd-oauth%2Fapi%2FFHIR%2FR4

###
post https://vendorservices.epic.com/interconnect-amcurprd-oauth/oauth2/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code
&redirect_uri=http%3A%2F%2Flocalhost%3A3000
&client_id=7104a6de-0683-40db-bb39-e616a30fce94
&code=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJjbGllbnRfaWQiOiI3MTA0YTZkZS0wNjgzLTQwZGItYmIzOS1lNjE2YTMwZmNlOTQiLCJlcGljLmVjaSI6InVybjplcGljOkN1cnJlbnQtQXBwLU9yY2hhcmQtUHJvZHVjdGlvbiIsImVwaWMubWV0YWRhdGEiOiIyZVpZbjdtSDIzY2I0bUJRdGpzMUp1Y2RGai1XM3ozc2t3MUxPczFOaW54RFhNZFVZSFVfcW5STWJNMXNBVUNaWTJwYWFMZ3pKRlI0bS1JRTlBSHVqTEY2bEhES0VVeGE4VThBMVE3VldfbFhjMGlHdWYtTWZackpaWWh3UFRQaCIsImVwaWMudG9rZW50eXBlIjoiY29kZSIsImV4cCI6MTczODg3NDk4NiwiaWF0IjoxNzM4ODc0Njg2LCJpc3MiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJqdGkiOiI5NTJkNDg2My03Y2Q0LTQxY2UtODljOS0zYTQzYjFiYThmZjMiLCJuYmYiOjE3Mzg4NzQ2ODYsInN1YiI6ImV3UEEzWE9KSkFiWWRIS2RzWVpESzhnMyJ9.kOfr7pKO77gkXCNDkMVBTnlEkL07PACvJRsdZv7nknWyrDh-5VxyJ7BXwqgqOfpAdqWBUZFcoNNnyKpXdK4-UW_lG5KU9RoPZma2nk9x1__nzstorX0HGAoComW0YNIHmvb9-8wW87BtJuDTU-mwLV72m72JjzQ-r7Vtryb_D4JZpIbPgKdUohI3RTjoIhHMBhQiPJ9sU6peS79D-QVJ35aGkhUi6qID_2PWZREfy3EvDZOcgTcsJu8zkYhwX3b36TS_eQ2ctvaVCWvMqwTEn8k8gK4cxpl_cCawuyzRZcYo8-ima2QTaeDOhd9xS7c0Tfsy6w67NJ9dcjdbHrgc5g

###
get https://vendorservices.epic.com/interconnect-amcurprd-oauth/oauth2/authorize
    ?launch=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ1cm46ZXBpYzphcHBvcmNoYXJkLmN1cnByb2QiLCJjbGllbnRfaWQiOiI3MTA0YTZkZS0wNjgzLTQwZGItYmIzOS1lNjE2YTMwZmNlOTQiLCJlcGljLmVjaSI6InVybjplcGljOkN1cnJlbnQtQXBwLU9yY2hhcmQtUHJvZHVjdGlvbiIsImVwaWMubWV0YWRhdGEiOiJ2TWFrX040MlNaY0hXMkh3alg5dEw4LTJvZ3d4WFNSd29WMnh4SU03YVBHTnUtaGVnOEhXZnpyMTd4MGNqUkFVUmhlZ2Q0QnF5NERESGUyY2I5ckZYeDFZYmJiZUJEMVBPcW9xQXN4TmVaLVhJT0xoMFBhaE9WeVU0US1nSFdHSyIsImVwaWMudG9rZW50eXBlIjoibGF1bmNoIiwiZXhwIjoxNzM4ODc4MDQ1LCJpYXQiOjE3Mzg4Nzc3NDUsImlzcyI6InVybjplcGljOmFwcG9yY2hhcmQuY3VycHJvZCIsImp0aSI6ImI4MGE0MzIzLWY3OGQtNGNiYS05ZTVmLWM5OWQwODI2YTcxYiIsIm5iZiI6MTczODg3Nzc0NSwic3ViIjoiZXdQQTNYT0pKQWJZZEhLZHNZWkRLOGczIn0.b67-b6h9ofGfN9EZvzjMMuECARKyhnI5GpZyEmYEnGxssJ5S3gp_HPTkX-NXDUqEnZ56xb-8Rzp4EUEAvNAgXdVIWKGM3ZAdfQZl9-Noj9VN8J9a0h8K4QRePlFPZSpAvDdRXHxU_h5Yz3sR_6j5G2CukDfVE-bp3ZqNzlFVoCxcmTvIoL9O65pK_aMeQu5TJRg54h3ohB-meFfeYQV-cghOTWAhCAjNob4zoantiyBhMkXtSPd9L4MYwliWZqPQObO9E3qBDB6L1ZONSxxoaIjMD0Dr6Gx2Mp5O3_wLVgA1w6yQpgi6V-3mmP1i6Gbc_jTy9ztqNoAiaI1jFU0NEQ
    &response_type=code
    &client_id=7104a6de-0683-40db-bb39-e616a30fce94
    &redirect_uri=http%3A%2F%2Flocalhost%3A3000
    &scope=launch
    &state=goei2i
    &aud=https%3A%2F%2Fvendorservices.epic.com%2Finterconnect-amcurprd-oauth%2Fapi%2FFHIR%2FR4


###
get http://localhost:3000/users/test-auth-api
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2N2ZmZDg0ZS0xZWJkLTRhYTgtOTc1Yi1kYjI1YjUxNjc3ZmEiLCJyb2xlIjoiUGF0aWVudCIsImlhdCI6MTczOTkxOTkxOH0.uZNjCNk0Dkm-yhEWKEETEgbHpH0tmBNuePdxD6tTxBA

###
get http://localhost:3000/patients/demographics
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2N2ZmZDg0ZS0xZWJkLTRhYTgtOTc1Yi1kYjI1YjUxNjc3ZmEiLCJyb2xlIjoiUGF0aWVudCIsImlhdCI6MTczOTkxOTkxOH0.uZNjCNk0Dkm-yhEWKEETEgbHpH0tmBNuePdxD6tTxBA